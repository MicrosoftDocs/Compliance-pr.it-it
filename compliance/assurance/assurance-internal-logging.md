---
title: Registrazione interna di Microsoft 365 per la progettazione di Microsoft 365
description: In questo articolo viene fornita una spiegazione del funzionamento della registrazione interna per i team di Microsoft 365 Engineering.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 110a61c27a00380eede4d4f2303acfb025a27a1f
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497068"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a><span data-ttu-id="e9fdf-103">Log interni per Microsoft 365 Engineering</span><span class="sxs-lookup"><span data-stu-id="e9fdf-103">Internal logging for Microsoft 365 engineering</span></span>

<span data-ttu-id="e9fdf-104">Oltre agli eventi e ai dati di registro disponibili per i clienti, è disponibile anche un sistema di raccolta dei dati di log interno disponibile per i tecnici di Microsoft 365 presso Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Microsoft 365 engineers at Microsoft.</span></span> <span data-ttu-id="e9fdf-105">Molti tipi diversi di dati di registro vengono caricati dai server Microsoft 365 in un servizio di elaborazione dei big data interno denominato Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-105">Many different types of log data are uploaded from Microsoft 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="e9fdf-106">Ogni team del servizio carica i log di controllo dai rispettivi server nel database Cosmos per l'aggregazione e l'analisi.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="e9fdf-107">Questo trasferimento di dati avviene tramite una connessione TLS convalidata da FIPS 140-2 su porte e protocolli approvati in modo specifico utilizzando uno strumento di automazione proprietario denominato Office Data Loader (ODL).</span><span class="sxs-lookup"><span data-stu-id="e9fdf-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="e9fdf-108">Gli strumenti utilizzati in Microsoft 365 per raccogliere ed elaborare i record di controllo non consentono modifiche permanenti o irreversibili al contenuto del record di controllo originale o all'ordinamento temporale.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-108">The tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="e9fdf-109">I team di servizio utilizzano Cosmos come archivio centralizzato per eseguire un'analisi dell'utilizzo delle applicazioni, per misurare le prestazioni di sistema e operative e per cercare anomalie e modelli che potrebbero indicare problemi o problemi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="e9fdf-110">Ogni team del servizio carica una linea di base dei log in Cosmos, a seconda di ciò che sta cercando di analizzare, che spesso includono:</span><span class="sxs-lookup"><span data-stu-id="e9fdf-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>

- <span data-ttu-id="e9fdf-111">Registri eventi</span><span class="sxs-lookup"><span data-stu-id="e9fdf-111">Event logs</span></span>
- <span data-ttu-id="e9fdf-112">Log di AppLocker</span><span class="sxs-lookup"><span data-stu-id="e9fdf-112">AppLocker logs</span></span>
- <span data-ttu-id="e9fdf-113">Dati sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="e9fdf-113">Performance data</span></span>
- <span data-ttu-id="e9fdf-114">Dati di System Center</span><span class="sxs-lookup"><span data-stu-id="e9fdf-114">System Center data</span></span>
- <span data-ttu-id="e9fdf-115">Record dettagli chiamata</span><span class="sxs-lookup"><span data-stu-id="e9fdf-115">Call detail records</span></span>
- <span data-ttu-id="e9fdf-116">Dati sulla qualità dell'esperienza</span><span class="sxs-lookup"><span data-stu-id="e9fdf-116">Quality of experience data</span></span>
- <span data-ttu-id="e9fdf-117">Registri del server Web IIS</span><span class="sxs-lookup"><span data-stu-id="e9fdf-117">IIS Web Server logs</span></span>
- <span data-ttu-id="e9fdf-118">SQL Server log</span><span class="sxs-lookup"><span data-stu-id="e9fdf-118">SQL Server logs</span></span>
- <span data-ttu-id="e9fdf-119">Dati Syslog</span><span class="sxs-lookup"><span data-stu-id="e9fdf-119">Syslog data</span></span>
- <span data-ttu-id="e9fdf-120">Log di controllo della sicurezza</span><span class="sxs-lookup"><span data-stu-id="e9fdf-120">Security audit logs</span></span>

<span data-ttu-id="e9fdf-121">Prima di caricare dati in Cosmos, l'applicazione ODL utilizza un servizio di scrubbing per offuscare tutti i campi che contengono i dati dei clienti, ad esempio informazioni sul tenant e informazioni identificabili dall'utente finale, e sostituire tali campi con un valore hash.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="e9fdf-122">I log anonimi e con hash vengono riscritti e quindi caricati in Cosmos.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="e9fdf-123">I team di servizio eseguono query con ambito sui propri dati in Cosmos per la correlazione, l'avviso e la creazione di report.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="e9fdf-124">Il periodo di conservazione dei dati del log di controllo in Cosmos è determinato dai team del servizio; la maggior parte dei dati del log di controllo viene conservata per 90 giorni o più per supportare le indagini degli incidenti di sicurezza e per soddisfare i requisiti di conservazione normativi.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="e9fdf-125">L'accesso ai dati di Microsoft 365 archiviati in Cosmos è limitato al personale autorizzato.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-125">Access to Microsoft 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="e9fdf-126">Microsoft limita la gestione delle funzionalità di controllo al sottoinsieme limitato di membri del team di servizio responsabili della funzionalità di controllo.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="e9fdf-127">Questi membri del team non hanno la possibilità di modificare o eliminare dati da Cosmos e tutte le modifiche apportate ai meccanismi di registrazione per Cosmos vengono registrate e verificate.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="e9fdf-128">Ogni team del servizio accede ai propri dati di log per l'analisi autorizzando determinate applicazioni a eseguire analisi specifiche.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="e9fdf-129">Ad esempio, il team di sicurezza di Microsoft 365 usa i dati di Cosmos tramite un parser del registro eventi proprietario per correlare, avvisare e generare report utilizzabili su possibili attività sospette nell'ambiente di produzione di Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-129">For example, the Microsoft 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Microsoft 365 production environment.</span></span> <span data-ttu-id="e9fdf-130">I report di questi dati vengono utilizzati per correggere le vulnerabilità e migliorare le prestazioni complessive del servizio.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="e9fdf-131">Se un avviso o un report specifico richiede ulteriori indagini, il personale del servizio può richiedere che i dati siano importati di nuovo nel servizio Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Microsoft 365 service.</span></span> <span data-ttu-id="e9fdf-132">Poiché il registro specifico importato da Cosmos è crittografato e il personale del servizio non ha accesso alle chiavi di decrittografia, il registro di destinazione viene passato a livello di programmazione tramite un servizio di decrittografia che restituisce risultati con ambito al personale del servizio autorizzato.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="e9fdf-133">Tutte le vulnerabilità riscontrate in questo esercizio vengono segnalate e riassegnate utilizzando i canali standard di gestione degli incidenti di sicurezza di Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e9fdf-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
